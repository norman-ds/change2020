---
title: Die Zahl der Toten in den Regionen
author: Norman
date: '2020-04-29'
slug: die-zahl-der-toten-in-den-regionen
categories:
  - COVID19
tags:
  - Todesfall
  - Kanton
---

Vor einer Woche habe ich beschrieben, warum die [Die Zahl der Toten](https://sterblichkeit.puntaminar.ch) eine relativ zuverlässige Datenerfassung ist. Zudem konnte ich zeigen, dass es in der Schweiz seit 2013 immer wieder zu einer Übersterblichkeit während der Wintersaison kam. 

![Wöchentliche Todesfälle 2020](/images/2020-04-29-die-zahl-der-toten-in-den-regionen_files/gd-d-14.03.04.03-wr-computed_thumbnail.png){align=center}


Die Grafik ist etwas unglücklich dargestellt und verbreitet mehr Verunsicherung als notwendig.

# Todesfälle nach Regionen

Das BFS bietet detailiertere Daten nach Alter und Regionen über die letzten zwanzig Jahre. Ich will zeigen, dass nicht in allen Regionen im April 2020 zu Übersterblichkeiten kam und dass auch nicht alle Schweizer über 65 Jahren sich fürchten müssen. 

```{r dataframe, cache=T, results='asis', echo=F}
fn4 <- 'ts-q-01.04.02.01.30.csv' # (20MB) Todesfälle nach Fünf-Jahres-Altersgruppe, Geschlecht, Woche und Kanton
datapath <- file.path('..','..','data')

library(dplyr)
dfdeath <- read.csv2(file.path(datapath,fn4), stringsAsFactors=F) %>%
  filter(AGE != '_T', SEX=='T') %>%
  mutate(year=gsub('^(.{4}).*','\\1',TIME_PERIOD),
         cw=gsub('.*(.{2})$','\\1',TIME_PERIOD)) %>%
  mutate(cw = as.integer(cw)) %>%
  mutate(AC0=gsub('(.+[ET])([0-9]?)([049])$','\\2\\3',AGE)) %>%
  mutate(AC1=as.integer(AC0)) %>%
  #mutate(age=if_else(AC1<=64,'0-64','65+')) %>%
  mutate(age=as.character(cut(AC1, breaks = c(0,64,80,100)))) %>%
  group_by(geo=GEO, year, cw, age) %>%
  summarise(value=sum(Obs_value)) %>%
  group_by(geo, year, age) %>%
  mutate(value_cum = cumsum(value)) %>%
  ungroup() %>%
  mutate(ggeo=gsub('^(CH0[1-7]).$','\\1',geo)) %>%
  inner_join(
    read.csv2(file.path(datapath,'grossregionCH.csv'), stringsAsFactors=F)
  )

year_last <- '2020'
cw_last <- max(dfdeath[dfdeath$year==year_last,]$cw)

knitr::kable(dfdeath %>% head())
```


